% section 5.2: Database Schema Modifications

\subsection{Database Schema Modifications since DC2}


The MOPS schema was integrated into the master copy of the
LSST baseline schema in Enterprise Architect. The 
integration included realigning names, units, and 
merging tables where appropriate.


Amplifier-level exposure metadata was introduced,
in addition to the CCD-level and FPA-level metadata 
already present in DC2.


SDQA-related schema was introduced, and this is 
covered in detail in Subsection~\ref{sdqasubsection}.


Schema for capturing provenance related to policies
was introduced.


The whole schema was refactored to clean up types
and realign it with LSST naming conventions.


The schema for the Object, Source and DIASource tables 
was modified to reflect the new needs of the 
application classes for astronomical-object transients.


\subsubsection {Schema browser}

A schema browser was built and deployed; the URL is
http://dev.lsstcorp.org/schema/. This graphical, web-based
browser allows a quick, easy and convenient way to look
at the database-schema structure, including browsing tables, 
column names, their types, units, UCDs, and descriptions.
Descriptions and units for most columns were added, but
the UCD fields remain empty.

This work included expanding the master copy of the schema 
in Enterprise Architect to capture information 
about per-column units, UCDs and descriptions.
A script was written to translate this 
information into a format readable by the schema browser. 
This allows us to manage all the information about the schema 
in one central place (EA), in a database-agnostic form.



